<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout :: head">
    <meta charset="utf-8">
</head>

<body class="bg-detalle-usuario">

    <div class="wrapper">
        <div class="section-authentication-signin d-flex align-items-center justify-content-center my-5 my-lg-0 p-5 ">
            <div class="container-fluid">
                <div class="row row-cols-1 row-cols-lg-2 row-cols-xl-2">
                    <div class="col mx-auto">
                        <div class="card shadow-lg p-3 mb-3 bg-body rounded border border-light p-3">
                            <div class="card-body p-2 rounded text-center">
                                <img src="../imagenes/reporte.png" alt="historial-medico" height="150" width="200">
                                <h3 class="text-diseño-rc text-center">HISTORIAL MEDICO</h3>
                            </div>
                            <hr class="border border-light" />
                            <form th:action="@{/formularioMascota}" method="post" th:object="${mascota}"
                                class="row g-3 needs-validation" novalidate>
                                <input type="hidden" th:field="*{id}" th:value="${mascota.id}" />

                                <div
                                    class="col-md-12 position-relative card shadow-lg p-3 mb-3 bg-body rounded border border-light p-3">
                                    <h2 class="card-title text-diseño-rc text-center mb-5" th:text="${titulo}"></h2>
                                    <div class="d-flex">
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Propietario: </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.propietario.nombre}">
                                                Allison</p>
                                        </div>
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Edad (meses): </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.edad} + ' meses'">27</p>
                                        </div>
                                    </div>
                                    <div class="d-flex">
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Sexo: </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.Sexo}">macho</p>
                                        </div>
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Especie: </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.especie}">Perro</p>
                                        </div>
                                    </div>

                                    <div class="d-flex">
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Raza: </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.raza}">Pitbull</p>
                                        </div>
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Estatura (cm): </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.estatura}+' cm'">55</p>
                                        </div>
                                    </div>

                                    <div class="d-flex">
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Peso (kg): </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.peso}+' kg'">35</p>
                                        </div>
                                        <div class="col-md-3 position-relative me-2">
                                            <p class="card-text text-diseño-rc2">Color: </p>
                                        </div>
                                        <div class="col-md-3 position-relative">
                                            <p class="estilo-letra-mascota" th:text="${mascota.color}">blanco y negro
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div  class="col-md-12">
                                    <label for="exampleFormControlTextarea1"
                                        class="form-label text-diseño-rc2 text-center">Atenciones</label>
                                    <div th:each="citas : ${listaCitas}" th:if="${mascota.id == citas.mascota.id}" class="card  text-center text-bg-light mb-3 ms-5 shadow-lg p-3 mb-3 bg-body rounded border border-light p-3"
                                        style="max-width: 30rem;">
                                        <div  class="card-header text-diseño-detalle" th:text="${'N° de Atencion '+citas.id}"></div>
                                        <div class="card-body">
                                            <h5 class="card-title" th:text="${'Fecha de Atención: '+citas.fecha_cita}"></h5>
                                            <p class="card-text" th:text="${'Descripción de la Cita: '+citas.servicio.descripcion}"></p>
                                            <p class="card-text" th:text="${'Hora de la Cita: '+citas.hora_cita}"></p>
                                            <p class="card-text" th:text="${'Observaciones: '+citas.Observaciones}"></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 d-grid">
                                    <button type="submit" id="btn-descargar-historial"
                                        class="btn btn-fondo-rc text-light">DESCARGAR HISTORIAL</a></button>
                                </div>
                                <div class="col-10 d-grid m-4">
                                    <a th:href="@{/gestionMascota}" type="submit" id="btn-regresar" class="btn btn-fondo-rc text-light text-diseño-prod"><img src="../imagenes/flecha-hacia-atras.png" alt="agregar" height="45px" width="45px">Volver</a>
                                </div>  
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer th:replace="layout :: footer"></footer>
</body>

</html>